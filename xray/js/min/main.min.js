function $(e){return this.el=document.querySelectorAll(e),this.el}function hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function addClass(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")}function each(e,t){for(i=0;i<e.length;i++)t(e[i],i)}function addEventListener(e,t,s){e.addEventListener?e.addEventListener(t,s):e.attachEvent("on"+t,s)}function inArray(e,t){for(var s=t.length,a=0;s>a;a++)if(t[a]==e)return!0}function returnCleanTag(e){return cleanString=e.replace(/\s/g,""),cleanString=cleanString.replace(/[^\w\d\s]/,""),cleanString.toLowerCase()}function toggleSelectedTag(e){if(inArray(e,selectedTags)){var t=selectedTags.indexOf(e);selectedTags.splice(t,1)}else selectedTags.push(e)}function renderProjects(){each($(".projects span"),function(e,t){removeClass(e,"selected");for(var t=selectedTags.length-1;t>=0;t--)if(hasClass(e,selectedTags[t])){addClass(e,"selected");break}})}function resizeCanvasBackground(){sidebarWidth=$(".sidebar")[0].offsetWidth,sidebarHeight=$(".sidebar")[0].offsetHeight,ctx.canvas.width=sidebarWidth,ctx.canvas.height=sidebarHeight-2,ctx.translate(.5,.5)}function drawCanvasBackground(){var e=$(".sidebar")[0].offsetLeft,t=$(".sidebar")[0].offsetTop,s=getScrollTop();0>s&&(s=0),each($(".projects span"),function(a){var n=a.offsetLeft,r=a.offsetTop,d=a.offsetWidth-1,c=a.offsetHeight;if(n+d>e&&e+sidebarWidth>n&&r+c+s>t&&t+sidebarHeight>r-s){if(newX=n-e-1,newY=r-t-s-1,"blur"==mode){var i=new Image,l=getComputedStyle(a)["background-image"];i.src=l.slice(4,-1),ctx.drawImage(i,n-e,r-t-s-2,d,c)}ctx.setLineDash?(ctx.beginPath(),ctx.setLineDash([5,5]),ctx.rect(newX,newY,d,c),ctx.strokeStyle="#5E5E5E",ctx.stroke()):(ctx.fillStyle="rgb(245, 245, 245)",ctx.fillRect(newX,newY,d,c))}})}function updateCanvas(){ctx.clearRect(0,0,sidebarWidth,sidebarHeight),resizeCanvasBackground(),drawCanvasBackground()}function getScrollTop(){if("undefined"!=typeof pageYOffset)return pageYOffset;var e=document.body,t=document.documentElement;return t=t.clientHeight?t:e,t.scrollTop}var selectedTags=["featured"];each($(".tag-button"),function(e){addEventListener(e,"click",function(){console.log(returnCleanTag(e.innerText)),toggleSelectedTag(returnCleanTag(e.innerText)),hasClass(e,"selected")?removeClass(e,"selected"):addClass(e,"selected"),renderProjects()})}),renderProjects();var ctx=document.getElementById("sidebar-canvas").getContext("2d"),sidebarWidth,sidebarHeight,mode="xray";addEventListener(document,"scroll",updateCanvas),addEventListener(document,"mousemove",updateCanvas),setTimeout(updateCanvas,50),window.onresize=updateCanvas,addEventListener($(".debug")[0],"click",function(){$el=$(".debug")[0],$blur=$(".debug .blur")[0],$xray=$(".debug .xray")[0],$sidebar=$(".sidebar")[0],hasClass($el,"selected")?(addClass($blur,"selected"),removeClass($xray,"selected"),addClass($sidebar,"blur"),removeClass($el,"selected"),mode="blur"):(removeClass($blur,"selected"),addClass($xray,"selected"),removeClass($sidebar,"blur"),addClass($el,"selected"),mode="xray")});

/*

Yeah, sorry for the mess but I write all my code on one line without any spaces. 
But hey, not everyone is that brill. You can find nicely formated Javascript and SASS files here:
https://github.com/anthonyec/anthonycossins

*/